(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[414],{6414:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return _e}});var i=n(3740),r=n(3698),s=n(2938),a=n(3180),o=n(4414),l=n(3449),c=n(3064),u=n(1446),h=n(9991),d=n(6930),f=n(8983),m=n(7296),p=n(301),g=n(6237),v=n(2756),w=n(7150),b=n(1034),y=n(7515),x=n(8418),k=n(3381),A=n(4152),M=n(5803);const S=(0,M.A)(x.A,(0,y.P)("tabsBar"),k.A);var C=S.extend().extend().extend({name:"v-tab",props:{ripple:{type:[Boolean,Object],default:!0},tabValue:{required:!1}},data:()=>({proxyClass:"v-tab--active"}),computed:{classes(){return{"v-tab":!0,...x.A.options.computed.classes.call(this),"v-tab--disabled":this.disabled,...this.groupClasses}},value(){if(null!=this.tabValue)return this.tabValue;let t=this.to||this.href;if(null==t)return t;if(this.$router&&this.to===Object(this.to)){const e=this.$router.resolve(this.to,this.$route,this.append);t=e.href}return t.replace("#","")}},methods:{click(t){this.disabled?t.preventDefault():(this.href&&this.href.indexOf("#")>-1&&t.preventDefault(),t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle())},toggle(){this.isActive&&(this.tabsBar.mandatory||this.to)||this.$emit("change")}},render(t){const{tag:e,data:n}=this.generateRouteLink();return n.attrs={...n.attrs,"aria-selected":String(this.isActive),role:"tab",tabindex:this.disabled?-1:0},n.on={...n.on,keydown:t=>{t.keyCode===A.uP.enter&&this.click(t),this.$emit("keydown",t)}},t(e,n,(0,A.$c)(this))}}),D=(n(4114),n(569)),$=n(5961),T=n(48),P=n(5054),O=n(5168),E=n(2699);function _(t){const e=.501,n=Math.abs(t);return Math.sign(t)*(n/((1/e-2)*(1-n)+1))}function R(t,e,n,i){const r=t.clientWidth,s=n?e.content-t.offsetLeft-r:t.offsetLeft;n&&(i=-i);const a=e.wrapper+i,o=r+s,l=.4*r;return s<=i?i=Math.max(s-l,0):a<=o&&(i=Math.min(i-(a-o-l),e.content-e.wrapper)),n?-i:i}function N(t,e,n){const{offsetLeft:i,clientWidth:r}=t;if(n){const t=e.content-i-r/2-e.wrapper/2;return-Math.min(e.content-e.wrapper,Math.max(0,t))}{const t=i+r/2-e.wrapper/2;return Math.min(e.content-e.wrapper,Math.max(0,t))}}const B=(0,M.A)(T.C,P.A).extend({name:"base-slide-group",directives:{Resize:O.A,Touch:E.A},props:{activeClass:{type:String,default:"v-slide-item--active"},centerActive:Boolean,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>"boolean"===typeof t||["always","never","desktop","mobile"].includes(t)}},data:()=>({isOverflowing:!1,resizeTimeout:0,startX:0,isSwipingHorizontal:!1,isSwiping:!1,scrollOffset:0,widths:{content:0,wrapper:0}}),computed:{canTouch(){return"undefined"!==typeof window},__cachedNext(){return this.genTransition("next")},__cachedPrev(){return this.genTransition("prev")},classes(){return{...T.C.options.computed.classes.call(this),"v-slide-group":!0,"v-slide-group--has-affixes":this.hasAffixes,"v-slide-group--is-overflowing":this.isOverflowing}},hasAffixes(){switch(this.showArrows){case"always":return!0;case"desktop":return!this.isMobile;case!0:return this.isOverflowing||Math.abs(this.scrollOffset)>0;case"mobile":return this.isMobile||this.isOverflowing||Math.abs(this.scrollOffset)>0;case"never":return!1;default:return!this.isMobile&&(this.isOverflowing||Math.abs(this.scrollOffset)>0)}},hasNext(){if(!this.hasAffixes)return!1;const{content:t,wrapper:e}=this.widths;return t>Math.abs(this.scrollOffset)+e},hasPrev(){return this.hasAffixes&&0!==this.scrollOffset}},watch:{internalValue:"setWidths",isOverflowing:"setWidths",scrollOffset(t){this.$vuetify.rtl&&(t=-t);let e=t<=0?_(-t):t>this.widths.content-this.widths.wrapper?-(this.widths.content-this.widths.wrapper)+_(this.widths.content-this.widths.wrapper-t):-t;this.$vuetify.rtl&&(e=-e),this.$refs.content.style.transform=`translateX(${e}px)`}},mounted(){if("undefined"!==typeof ResizeObserver){const t=new ResizeObserver((()=>{this.onResize()}));t.observe(this.$el),t.observe(this.$refs.content),this.$on("hook:destroyed",(()=>{t.disconnect()}))}else{let t=0;this.$on("hook:beforeUpdate",(()=>{var e;t=((null===(e=this.$refs.content)||void 0===e?void 0:e.children)||[]).length})),this.$on("hook:updated",(()=>{var e;t!==((null===(e=this.$refs.content)||void 0===e?void 0:e.children)||[]).length&&this.setWidths()}))}},methods:{onScroll(){this.$refs.wrapper.scrollLeft=0},onFocusin(t){if(this.isOverflowing)for(const e of(0,A.K9)(t))for(const t of this.items)if(t.$el===e)return void(this.scrollOffset=R(t.$el,this.widths,this.$vuetify.rtl,this.scrollOffset))},genNext(){const t=this.$scopedSlots.next?this.$scopedSlots.next({}):(0,A.$c)(this,"next")||this.__cachedNext;return this.$createElement("div",{staticClass:"v-slide-group__next",class:{"v-slide-group__next--disabled":!this.hasNext},on:{click:()=>this.onAffixClick("next")},key:"next"},[t])},genContent(){return this.$createElement("div",{staticClass:"v-slide-group__content",ref:"content",on:{focusin:this.onFocusin}},(0,A.$c)(this))},genData(){return{class:this.classes,directives:[{name:"resize",value:this.onResize}]}},genIcon(t){let e=t;this.$vuetify.rtl&&"prev"===t?e="next":this.$vuetify.rtl&&"next"===t&&(e="prev");const n=`${t[0].toUpperCase()}${t.slice(1)}`,i=this[`has${n}`];return this.showArrows||i?this.$createElement(D.A,{props:{disabled:!i}},this[`${e}Icon`]):null},genPrev(){const t=this.$scopedSlots.prev?this.$scopedSlots.prev({}):(0,A.$c)(this,"prev")||this.__cachedPrev;return this.$createElement("div",{staticClass:"v-slide-group__prev",class:{"v-slide-group__prev--disabled":!this.hasPrev},on:{click:()=>this.onAffixClick("prev")},key:"prev"},[t])},genTransition(t){return this.$createElement($.mM,[this.genIcon(t)])},genWrapper(){return this.$createElement("div",{staticClass:"v-slide-group__wrapper",directives:[{name:"touch",value:{start:t=>this.overflowCheck(t,this.onTouchStart),move:t=>this.overflowCheck(t,this.onTouchMove),end:t=>this.overflowCheck(t,this.onTouchEnd)}}],ref:"wrapper",on:{scroll:this.onScroll}},[this.genContent()])},calculateNewOffset(t,e,n,i){const r=n?-1:1,s=r*i+("prev"===t?-1:1)*e.wrapper;return r*Math.max(Math.min(s,e.content-e.wrapper),0)},onAffixClick(t){this.$emit(`click:${t}`),this.scrollTo(t)},onResize(){this._isDestroyed||this.setWidths()},onTouchStart(t){const{content:e}=this.$refs;this.startX=this.scrollOffset+t.touchstartX,e.style.setProperty("transition","none"),e.style.setProperty("willChange","transform")},onTouchMove(t){if(this.canTouch){if(!this.isSwiping){const e=t.touchmoveX-t.touchstartX,n=t.touchmoveY-t.touchstartY;this.isSwipingHorizontal=Math.abs(e)>Math.abs(n),this.isSwiping=!0}this.isSwipingHorizontal&&(this.scrollOffset=this.startX-t.touchmoveX,document.documentElement.style.overflowY="hidden")}},onTouchEnd(){if(!this.canTouch)return;const{content:t,wrapper:e}=this.$refs,n=t.clientWidth-e.clientWidth;t.style.setProperty("transition",null),t.style.setProperty("willChange",null),this.$vuetify.rtl?this.scrollOffset>0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset<=-n&&(this.scrollOffset=-n):this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=n&&(this.scrollOffset=n),this.isSwiping=!1,document.documentElement.style.removeProperty("overflow-y")},overflowCheck(t,e){t.stopPropagation(),this.isOverflowing&&e(t)},scrollIntoView(){if(!this.selectedItem&&this.items.length){const t=this.items[this.items.length-1].$el.getBoundingClientRect(),e=this.$refs.wrapper.getBoundingClientRect();(this.$vuetify.rtl&&e.right<t.right||!this.$vuetify.rtl&&e.left>t.left)&&this.scrollTo("prev")}this.selectedItem&&(0===this.selectedIndex||!this.centerActive&&!this.isOverflowing?this.scrollOffset=0:this.centerActive?this.scrollOffset=N(this.selectedItem.$el,this.widths,this.$vuetify.rtl):this.isOverflowing&&(this.scrollOffset=R(this.selectedItem.$el,this.widths,this.$vuetify.rtl,this.scrollOffset)))},scrollTo(t){this.scrollOffset=this.calculateNewOffset(t,{content:this.$refs.content?this.$refs.content.clientWidth:0,wrapper:this.$refs.wrapper?this.$refs.wrapper.clientWidth:0},this.$vuetify.rtl,this.scrollOffset)},setWidths(){window.requestAnimationFrame((()=>{if(this._isDestroyed)return;const{content:t,wrapper:e}=this.$refs;this.widths={content:t?t.clientWidth:0,wrapper:e?e.clientWidth:0},this.isOverflowing=this.widths.wrapper+1<this.widths.content,this.scrollIntoView()}))}},render(t){return t("div",this.genData(),[this.genPrev(),this.genWrapper(),this.genNext()])}});B.extend({name:"v-slide-group",provide(){return{slideGroup:this}}});var W=n(5367),I=(0,M.A)(B,W.A,k.A).extend({name:"v-tabs-bar",provide(){return{tabsBar:this}},computed:{classes(){return{...B.options.computed.classes.call(this),"v-tabs-bar":!0,"v-tabs-bar--is-mobile":this.isMobile,"v-tabs-bar--show-arrows":this.showArrows,...this.themeClasses}}},watch:{items:"callSlider",internalValue:"callSlider",$route:"onRouteChange"},methods:{callSlider(){this.isBooted&&this.$emit("call:slider")},genContent(){const t=B.options.methods.genContent.call(this);return t.data=t.data||{},t.data.staticClass+=" v-tabs-bar__content",t},onRouteChange(t,e){if(this.mandatory)return;const n=this.items,i=t.path,r=e.path;let s=!1,a=!1;for(const o of n)if(o.to===r?a=!0:o.to===i&&(s=!0),s&&a)break;!s&&a&&(this.internalValue=void 0)}},render(t){const e=B.options.render.call(this,t);return e.data.attrs={role:"tablist"},e}}),z=n(4728),L=T.C.extend({name:"v-window",directives:{Touch:E.A},provide(){return{windowGroup:this}},props:{activeClass:{type:String,default:"v-window-item--active"},continuous:Boolean,mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$next"},prevIcon:{type:[Boolean,String],default:"$prev"},reverse:Boolean,showArrows:Boolean,showArrowsOnHover:Boolean,touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data(){return{changedByDelimiters:!1,internalHeight:void 0,transitionHeight:void 0,transitionCount:0,isBooted:!1,isReverse:!1}},computed:{isActive(){return this.transitionCount>0},classes(){return{...T.C.options.computed.classes.call(this),"v-window--show-arrows-on-hover":this.showArrowsOnHover}},computedTransition(){if(!this.isBooted)return"";const t=this.vertical?"y":"x",e=this.internalReverse?!this.isReverse:this.isReverse,n=e?"-reverse":"";return`v-window-${t}${n}-transition`},hasActiveItems(){return Boolean(this.items.find((t=>!t.disabled)))},hasNext(){return this.continuous||this.internalIndex<this.items.length-1},hasPrev(){return this.continuous||this.internalIndex>0},internalIndex(){return this.items.findIndex(((t,e)=>this.internalValue===this.getValue(t,e)))},internalReverse(){return this.$vuetify.rtl?!this.reverse:this.reverse}},watch:{internalIndex(t,e){this.isReverse=this.updateReverse(t,e)}},mounted(){window.requestAnimationFrame((()=>this.isBooted=!0))},methods:{genDefaultSlot(){return(0,A.$c)(this)},genContainer(){const t=[this.genDefaultSlot()];return this.showArrows&&t.push(this.genControlIcons()),this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight||this.transitionHeight}},t)},genIcon(t,e,n){var i,r,s;const a={click:t=>{t.stopPropagation(),this.changedByDelimiters=!0,n()}},o={"aria-label":this.$vuetify.lang.t(`$vuetify.carousel.${t}`)},l=null!==(s=null===(r=(i=this.$scopedSlots)[t])||void 0===r?void 0:r.call(i,{on:a,attrs:o}))&&void 0!==s?s:[this.$createElement(z.A,{props:{icon:!0},attrs:o,on:a},[this.$createElement(D.A,{props:{large:!0}},e)])];return this.$createElement("div",{staticClass:`v-window__${t}`},l)},genControlIcons(){const t=[],e=this.$vuetify.rtl?this.nextIcon:this.prevIcon;if(this.hasPrev&&e&&"string"===typeof e){const n=this.genIcon("prev",e,this.prev);n&&t.push(n)}const n=this.$vuetify.rtl?this.prevIcon:this.nextIcon;if(this.hasNext&&n&&"string"===typeof n){const e=this.genIcon("next",n,this.next);e&&t.push(e)}return t},getNextIndex(t){const e=(t+1)%this.items.length,n=this.items[e];return n.disabled?this.getNextIndex(e):e},getPrevIndex(t){const e=(t+this.items.length-1)%this.items.length,n=this.items[e];return n.disabled?this.getPrevIndex(e):e},next(){if(!this.hasActiveItems||!this.hasNext)return;const t=this.getNextIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)},prev(){if(!this.hasActiveItems||!this.hasPrev)return;const t=this.getPrevIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)},updateReverse(t,e){const n=this.items.length,i=n-1;return n<=2?t<e:t===i&&0===e||(0!==t||e!==i)&&t<e}},render(t){const e={staticClass:"v-window",class:this.classes,directives:[]};if(!this.touchless){const t=this.touch||{left:()=>{this.$vuetify.rtl?this.prev():this.next()},right:()=>{this.$vuetify.rtl?this.next():this.prev()},end:t=>{t.stopPropagation()},start:t=>{t.stopPropagation()}};e.directives.push({name:"touch",value:t})}return t("div",e,[this.genContainer()])}}),F=L.extend({name:"v-tabs-items",props:{mandatory:{type:Boolean,default:!1}},computed:{classes(){return{...L.options.computed.classes.call(this),"v-tabs-items":!0}},isDark(){return this.rootIsDark}},methods:{getValue(t,e){return t.id||T.C.options.methods.getValue.call(this,t,e)}}}),H=n(8743),q=(0,M.A)(H.A).extend({name:"v-tabs-slider",render(t){return t("div",this.setBackgroundColor(this.color,{staticClass:"v-tabs-slider"}))}}),Y=n(4632);const j=(0,M.A)(H.A,Y.A,k.A);var X=j.extend().extend({name:"v-tabs",directives:{Resize:O.A},props:{activeClass:{type:String,default:""},alignWithTitle:Boolean,backgroundColor:String,centerActive:Boolean,centered:Boolean,fixedTabs:Boolean,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,iconsAndText:Boolean,mobileBreakpoint:[String,Number],nextIcon:{type:String,default:"$next"},optional:Boolean,prevIcon:{type:String,default:"$prev"},right:Boolean,showArrows:[Boolean,String],sliderColor:String,sliderSize:{type:[Number,String],default:2},vertical:Boolean},data(){return{resizeTimeout:0,slider:{height:null,left:null,right:null,top:null,width:null},transitionTime:300}},computed:{classes(){return{"v-tabs--align-with-title":this.alignWithTitle,"v-tabs--centered":this.centered,"v-tabs--fixed-tabs":this.fixedTabs,"v-tabs--grow":this.grow,"v-tabs--icons-and-text":this.iconsAndText,"v-tabs--right":this.right,"v-tabs--vertical":this.vertical,...this.themeClasses}},isReversed(){return this.$vuetify.rtl&&this.vertical},sliderStyles(){return{height:(0,A.Dg)(this.slider.height),left:this.isReversed?void 0:(0,A.Dg)(this.slider.left),right:this.isReversed?(0,A.Dg)(this.slider.right):void 0,top:this.vertical?(0,A.Dg)(this.slider.top):void 0,transition:null!=this.slider.left?null:"none",width:(0,A.Dg)(this.slider.width)}},computedColor(){return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"}},watch:{alignWithTitle:"callSlider",centered:"callSlider",centerActive:"callSlider",fixedTabs:"callSlider",grow:"callSlider",iconsAndText:"callSlider",right:"callSlider",showArrows:"callSlider",vertical:"callSlider","$vuetify.application.left":"onResize","$vuetify.application.right":"onResize","$vuetify.rtl":"onResize"},mounted(){if("undefined"!==typeof ResizeObserver){const t=new ResizeObserver((()=>{this.onResize()}));t.observe(this.$el),this.$on("hook:destroyed",(()=>{t.disconnect()}))}this.$nextTick((()=>{window.setTimeout(this.callSlider,30)}))},methods:{callSlider(){return!this.hideSlider&&this.$refs.items&&this.$refs.items.selectedItems.length?(this.$nextTick((()=>{const t=this.$refs.items.selectedItems[0];if(!t||!t.$el)return this.slider.width=0,void(this.slider.left=0);const e=t.$el;this.slider={height:this.vertical?e.scrollHeight:Number(this.sliderSize),left:this.vertical?0:e.offsetLeft,right:this.vertical?0:e.offsetLeft+e.offsetWidth,top:e.offsetTop,width:this.vertical?Number(this.sliderSize):e.scrollWidth}})),!0):(this.slider.width=0,!1)},genBar(t,e){const n={style:{height:(0,A.Dg)(this.height)},props:{activeClass:this.activeClass,centerActive:this.centerActive,dark:this.dark,light:this.light,mandatory:!this.optional,mobileBreakpoint:this.mobileBreakpoint,nextIcon:this.nextIcon,prevIcon:this.prevIcon,showArrows:this.showArrows,value:this.internalValue},on:{"call:slider":this.callSlider,change:t=>{this.internalValue=t}},ref:"items"};return this.setTextColor(this.computedColor,n),this.setBackgroundColor(this.backgroundColor,n),this.$createElement(I,n,[this.genSlider(e),t])},genItems(t,e){return t||(e.length?this.$createElement(F,{props:{value:this.internalValue},on:{change:t=>{this.internalValue=t}}},e):null)},genSlider(t){return this.hideSlider?null:(t||(t=this.$createElement(q,{props:{color:this.sliderColor}})),this.$createElement("div",{staticClass:"v-tabs-slider-wrapper",style:this.sliderStyles},[t]))},onResize(){this._isDestroyed||(clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.callSlider,0))},parseNodes(){let t=null,e=null;const n=[],i=[],r=(0,A.$c)(this)||[],s=r.length;for(let a=0;a<s;a++){const s=r[a];if(s.componentOptions)switch(s.componentOptions.Ctor.options.name){case"v-tabs-slider":e=s;break;case"v-tabs-items":t=s;break;case"v-tab-item":n.push(s);break;default:i.push(s)}else i.push(s)}return{tab:i,slider:e,items:t,item:n}}},render(t){const{tab:e,slider:n,items:i,item:r}=this.parseNodes();return t("div",{staticClass:"v-tabs",class:this.classes,directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]},[this.genBar(e,n),this.genItems(i,r)])}}),V=n(7112),Q=n(198),G=function(){var t=this,e=t._self._c;return e(l.A,{attrs:{fluid:""}},[e(r.A,[e(s.ri,{staticClass:"d-flex align-center pa-4 primary lighten-1 white--text"},[e(d.A,{staticClass:"mr-2 white--text",attrs:{large:""}},[t._v("mdi-chart-box")]),e("span",{staticClass:"text-h5"},[t._v("Reports Dashboard")]),e(b.A),e(i.A,{staticClass:"mr-2",attrs:{color:"white",loading:t.loadingExcel},on:{click:t.exportToExcel}},[e(d.A,{attrs:{left:""}},[t._v("mdi-microsoft-excel")]),t._v(" Export Excel ")],1),e(i.A,{attrs:{color:"white",loading:t.loadingPDF},on:{click:t.generatePDF}},[e(d.A,{attrs:{left:""}},[t._v("mdi-file-pdf")]),t._v(" Export PDF ")],1)],1),e(s.OQ,[e(X,{attrs:{"background-color":"primary",dark:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e(C,[t._v("Collections")]),e(C,[t._v("Consumption")]),e(C,[t._v("Overdue")]),e(C,[t._v("Revenue/Expense")])],1),e(F,{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e(v.A,{staticClass:"mt-4"},[e(o.A,{attrs:{cols:"12",sm:"6",md:"4"}},[e(g.A,{attrs:{"close-on-content-click":!1,"max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:n}){return[e(V.A,t._g({attrs:{label:"Date Range","persistent-hint":"",outlined:"",dense:"",readonly:"","prepend-icon":"mdi-calendar-range"},model:{value:t.dateRangeText,callback:function(e){t.dateRangeText=e},expression:"dateRangeText"}},n))]}}]),model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[e(u.A,{attrs:{range:"","no-title":"",scrollable:""},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}},[e(b.A),e(i.A,{attrs:{text:"",color:"primary"},on:{click:function(e){t.dateMenu=!1}}},[t._v("Cancel")]),e(i.A,{attrs:{text:"",color:"primary"},on:{click:t.applyDateRange}},[t._v("Apply")])],1)],1)],1)],1),e(v.A,{staticClass:"mt-4"},t._l(t.summaryStats,(function(n,i){return e(o.A,{key:i,attrs:{cols:"12",sm:"6",md:"3"}},[e(r.A,{staticClass:"summary-card",attrs:{outlined:"",hover:""}},[e(s.OQ,[e("div",{staticClass:"d-flex align-center"},[e(d.A,{staticClass:"mr-3",attrs:{large:"",color:n.color}},[t._v(t._s(n.icon))]),e("div",[e("div",{staticClass:"text-overline mb-1"},[t._v(t._s(n.label))]),e("div",{staticClass:"text-h5"},[t._v(t._s(n.value))])])],1)])],1)],1)})),1),e(r.A,{staticClass:"mt-4",attrs:{outlined:""}},[e(c.A,{staticClass:"elevation-1",attrs:{headers:t.currentHeaders,items:t.tableData,loading:t.loading,"items-per-page":10,search:t.search,"footer-props":{"items-per-page-options":[10,25,50],showFirstLastPage:!0}},scopedSlots:t._u([{key:"top",fn:function(){return[e(Q.A,{attrs:{flat:""}},[e(V.A,{staticClass:"mx-4",attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"item.amount",fn:function({item:e}){return[t._v(" ₱"+t._s(t.formatNumber(e.amount))+" ")]}},{key:"item.consumption",fn:function({item:e}){return[t._v(" "+t._s(e.consumption)+" m³ ")]}},{key:"item.status",fn:function({item:n}){return[e(a.A,{attrs:{color:t.getStatusColor(n.status),small:"",label:""}},[t._v(" "+t._s(n.status)+" ")])]}},{key:"item.actions",fn:function({item:n}){return[e(i.A,{attrs:{small:"",text:"",color:"primary"},on:{click:function(e){return t.viewDetails(n)}}},[e(d.A,{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-eye")]),t._v(" Details ")],1)]}}])})],1)],1)],1)],1),e(h.A,{attrs:{"max-width":"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(r.A,[e(s.ri,{staticClass:"headline"},[t._v(" "+t._s(t.detailsTitle)+" "),e(b.A),e(i.A,{attrs:{icon:""},on:{click:function(e){t.dialog=!1}}},[e(d.A,[t._v("mdi-close")])],1)],1),e(s.OQ,[e(f.A,{attrs:{dense:""}},t._l(t.selectedDetails,(function(n,i){return e(m.A,{key:i},[e(p.pr,[e(p.w,[t._v(t._s(t.formatLabel(i)))]),e(p.UZ,[t._v(t._s(t.formatDetailValue(i,n)))])],1)],1)})),1)],1)],1)],1),e(w.A,{attrs:{color:t.snackbar.color,timeout:3e3},scopedSlots:t._u([{key:"action",fn:function({attrs:n}){return[e(i.A,t._b({attrs:{text:""},on:{click:function(e){t.snackbar.show=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v(" "+t._s(t.snackbar.text)+" ")])],1)},U=[],J=n(1988);const K={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Z=(t,e,n)=>{let i;const r=K[t];return i="string"===typeof r?r:1===e?r.one:r.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function tt(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth,i=t.formats[n]||t.formats[t.defaultWidth];return i}}const et={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},it={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rt={date:tt({formats:et,defaultWidth:"full"}),time:tt({formats:nt,defaultWidth:"full"}),dateTime:tt({formats:it,defaultWidth:"full"})},st={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},at=(t,e,n,i)=>st[t];function ot(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let r;if("formatting"===i&&t.formattingValues){const e=t.defaultFormattingWidth||t.defaultWidth,i=n?.width?String(n.width):e;r=t.formattingValues[i]||t.formattingValues[e]}else{const e=t.defaultWidth,i=n?.width?String(n.width):t.defaultWidth;r=t.values[i]||t.values[e]}const s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}const lt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ct={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ut={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ht={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ft={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mt=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pt={ordinalNumber:mt,era:ot({values:lt,defaultWidth:"wide"}),quarter:ot({values:ct,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ot({values:ut,defaultWidth:"wide"}),day:ot({values:ht,defaultWidth:"wide"}),dayPeriod:ot({values:dt,defaultWidth:"wide",formattingValues:ft,defaultFormattingWidth:"wide"})};function gt(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;const a=s[0],o=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?wt(o,(t=>t.test(a))):vt(o,(t=>t.test(a)));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function vt(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function wt(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function bt(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(r.length);return{value:a,rest:o}}}const yt=/^(\d+)(th|st|nd|rd)?/i,xt=/\d+/i,kt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},At={any:[/^b/i,/^(a|c)/i]},Mt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},St={any:[/1/i,/2/i,/3/i,/4/i]},Ct={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$t={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Tt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ot={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Et={ordinalNumber:bt({matchPattern:yt,parsePattern:xt,valueCallback:t=>parseInt(t,10)}),era:gt({matchPatterns:kt,defaultMatchWidth:"wide",parsePatterns:At,defaultParseWidth:"any"}),quarter:gt({matchPatterns:Mt,defaultMatchWidth:"wide",parsePatterns:St,defaultParseWidth:"any",valueCallback:t=>t+1}),month:gt({matchPatterns:Ct,defaultMatchWidth:"wide",parsePatterns:Dt,defaultParseWidth:"any"}),day:gt({matchPatterns:$t,defaultMatchWidth:"wide",parsePatterns:Tt,defaultParseWidth:"any"}),dayPeriod:gt({matchPatterns:Pt,defaultMatchWidth:"any",parsePatterns:Ot,defaultParseWidth:"any"})},_t={code:"en-US",formatDistance:Z,formatLong:rt,formatRelative:at,localize:pt,match:Et,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Rt={};function Nt(){return Rt}Math.pow(10,8);const Bt=6048e5,Wt=864e5,It=Symbol.for("constructDateFrom");function zt(t,e){return"function"===typeof t?t(e):t&&"object"===typeof t&&It in t?t[It](e):t instanceof Date?new t.constructor(e):new Date(e)}function Lt(t,e){return zt(e||t,t)}function Ft(t){const e=Lt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ht(t,...e){const n=zt.bind(null,t||e.find((t=>"object"===typeof t)));return e.map(n)}function qt(t,e){const n=Lt(t,e?.in);return n.setHours(0,0,0,0),n}function Yt(t,e,n){const[i,r]=Ht(n?.in,t,e),s=qt(i),a=qt(r),o=+s-Ft(s),l=+a-Ft(a);return Math.round((o-l)/Wt)}function jt(t,e){const n=Lt(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Xt(t,e){const n=Lt(t,e?.in),i=Yt(n,jt(n)),r=i+1;return r}function Vt(t,e){const n=Nt(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=Lt(t,e?.in),s=r.getDay(),a=(s<i?7:0)+s-i;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function Qt(t,e){return Vt(t,{...e,weekStartsOn:1})}function Gt(t,e){const n=Lt(t,e?.in),i=n.getFullYear(),r=zt(n,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const s=Qt(r),a=zt(n,0);a.setFullYear(i,0,4),a.setHours(0,0,0,0);const o=Qt(a);return n.getTime()>=s.getTime()?i+1:n.getTime()>=o.getTime()?i:i-1}function Ut(t,e){const n=Gt(t,e),i=zt(e?.in||t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Qt(i)}function Jt(t,e){const n=Lt(t,e?.in),i=+Qt(n)-+Ut(n);return Math.round(i/Bt)+1}function Kt(t,e){const n=Lt(t,e?.in),i=n.getFullYear(),r=Nt(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=zt(e?.in||t,0);a.setFullYear(i+1,0,s),a.setHours(0,0,0,0);const o=Vt(a,e),l=zt(e?.in||t,0);l.setFullYear(i,0,s),l.setHours(0,0,0,0);const c=Vt(l,e);return+n>=+o?i+1:+n>=+c?i:i-1}function Zt(t,e){const n=Nt(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=Kt(t,e),s=zt(e?.in||t,0);s.setFullYear(r,0,i),s.setHours(0,0,0,0);const a=Vt(s,e);return a}function te(t,e){const n=Lt(t,e?.in),i=+Vt(n,e)-+Zt(n,e);return Math.round(i/Bt)+1}function ee(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const ne={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return ee("yy"===e?i%100:i,e.length)},M(t,e){const n=t.getMonth();return"M"===e?String(n+1):ee(n+1,2)},d(t,e){return ee(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h(t,e){return ee(t.getHours()%12||12,e.length)},H(t,e){return ee(t.getHours(),e.length)},m(t,e){return ee(t.getMinutes(),e.length)},s(t,e){return ee(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return ee(r,e.length)}},ie={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},re={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if("yo"===e){const e=t.getFullYear(),i=e>0?e:1-e;return n.ordinalNumber(i,{unit:"year"})}return ne.y(t,e)},Y:function(t,e,n,i){const r=Kt(t,i),s=r>0?r:1-r;if("YY"===e){const t=s%100;return ee(t,2)}return"Yo"===e?n.ordinalNumber(s,{unit:"year"}):ee(s,e.length)},R:function(t,e){const n=Gt(t);return ee(n,e.length)},u:function(t,e){const n=t.getFullYear();return ee(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return ee(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return ee(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return ne.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return ee(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=te(t,i);return"wo"===e?n.ordinalNumber(r,{unit:"week"}):ee(r,e.length)},I:function(t,e,n){const i=Jt(t);return"Io"===e?n.ordinalNumber(i,{unit:"week"}):ee(i,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getDate(),{unit:"date"}):ne.d(t,e)},D:function(t,e,n){const i=Xt(t);return"Do"===e?n.ordinalNumber(i,{unit:"dayOfYear"}):ee(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ee(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ee(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=0===i?7:i;switch(e){case"i":return String(r);case"ii":return ee(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours(),r=i/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(r=12===i?ie.noon:0===i?ie.midnight:i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(r=i>=17?ie.evening:i>=12?ie.afternoon:i>=4?ie.morning:ie.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){let e=t.getHours()%12;return 0===e&&(e=12),n.ordinalNumber(e,{unit:"hour"})}return ne.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getHours(),{unit:"hour"}):ne.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return"Ko"===e?n.ordinalNumber(i,{unit:"hour"}):ee(i,e.length)},k:function(t,e,n){let i=t.getHours();return 0===i&&(i=24),"ko"===e?n.ordinalNumber(i,{unit:"hour"}):ee(i,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ne.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ne.s(t,e)},S:function(t,e){return ne.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(0===i)return"Z";switch(e){case"X":return ae(i);case"XXXX":case"XX":return oe(i);case"XXXXX":case"XXX":default:return oe(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return ae(i);case"xxxx":case"xx":return oe(i);case"xxxxx":case"xxx":default:return oe(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+se(i,":");case"OOOO":default:return"GMT"+oe(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+se(i,":");case"zzzz":default:return"GMT"+oe(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return ee(i,e.length)},T:function(t,e,n){return ee(+t,e.length)}};function se(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),s=i%60;return 0===s?n+String(r):n+String(r)+e+ee(s,2)}function ae(t,e){if(t%60===0){const e=t>0?"-":"+";return e+ee(Math.abs(t)/60,2)}return oe(t,e)}function oe(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=ee(Math.trunc(i/60),2),s=ee(i%60,2);return n+r+e+s}const le=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ce=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ue=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return le(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",le(i,e)).replace("{{time}}",ce(r,e))},he={p:ce,P:ue},de=/^D+$/,fe=/^Y+$/,me=["D","DD","YY","YYYY"];function pe(t){return de.test(t)}function ge(t){return fe.test(t)}function ve(t,e,n){const i=we(t,e,n);if(console.warn(i),me.includes(t))throw new RangeError(i)}function we(t,e,n){const i="Y"===t[0]?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function be(t){return t instanceof Date||"object"===typeof t&&"[object Date]"===Object.prototype.toString.call(t)}function ye(t){return!(!be(t)&&"number"!==typeof t||isNaN(+Lt(t)))}const xe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ae=/^'([^]*?)'?$/,Me=/''/g,Se=/[a-zA-Z]/;function Ce(t,e,n){const i=Nt(),r=n?.locale??i.locale??_t,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,o=Lt(t,n?.in);if(!ye(o))throw new RangeError("Invalid time value");let l=e.match(ke).map((t=>{const e=t[0];if("p"===e||"P"===e){const n=he[e];return n(t,r.formatLong)}return t})).join("").match(xe).map((t=>{if("''"===t)return{isToken:!1,value:"'"};const e=t[0];if("'"===e)return{isToken:!1,value:De(t)};if(re[e])return{isToken:!0,value:t};if(e.match(Se))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return{isToken:!1,value:t}}));r.localize.preprocessor&&(l=r.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:r};return l.map((i=>{if(!i.isToken)return i.value;const s=i.value;(!n?.useAdditionalWeekYearTokens&&ge(s)||!n?.useAdditionalDayOfYearTokens&&pe(s))&&ve(s,e,String(t));const a=re[s[0]];return a(o,s,r.localize,c)})).join("")}function De(t){const e=t.match(Ae);return e?e[1].replace(Me,"'"):t}var $e=n(4213),Te={name:"Reports",data(){return{activeTab:0,loading:!1,loadingPDF:!1,loadingExcel:!1,dateMenu:!1,dialog:!1,search:"",dateRange:[Ce((new Date).setDate(1),"yyyy-MM-dd"),Ce(new Date,"yyyy-MM-dd")],selectedDetails:null,snackbar:{show:!1,text:"",color:"success"},tableData:[],reportSummary:{},headers:{collections:[{text:"Date",value:"paymentDate"},{text:"Account No",value:"consumerId.accountNo"},{text:"Consumer Name",value:"consumerName"},{text:"Amount",value:"amountPaid",align:"right"},{text:"Payment Method",value:"paymentMethod"},{text:"Actions",value:"actions",sortable:!1}],consumption:[{text:"Account No",value:"accountNo"},{text:"Consumer Name",value:"consumerName"},{text:"Previous Reading",value:"previousRead"},{text:"Present Reading",value:"presentRead"},{text:"Consumption (m³)",value:"consumption"},{text:"Actions",value:"actions",sortable:!1}],overdue:[{text:"Account No",value:"accountNo"},{text:"Consumer Name",value:"consumerName"},{text:"Due Date",value:"dueDate"},{text:"Amount Due",value:"amount",align:"right"},{text:"Days Overdue",value:"daysPastDue"},{text:"Actions",value:"actions",sortable:!1}],revenue:[{text:"Date",value:"date"},{text:"Type",value:"type"},{text:"Description",value:"description"},{text:"Amount",value:"amount",align:"right"},{text:"Actions",value:"actions",sortable:!1}]}}},computed:{dateRangeText(){return 2===this.dateRange.length?`${Ce(new Date(this.dateRange[0]),"MMM dd, yyyy")} - ${Ce(new Date(this.dateRange[1]),"MMM dd, yyyy")}`:""},currentHeaders(){const t=["collections","consumption","overdue","revenue"];return this.headers[t[this.activeTab]]||[]},reportType(){const t=["collections","consumption","overdue","revenue"];return t[this.activeTab]},summaryStats(){const t={collections:[{label:"Total Collections",value:`₱${this.formatNumber(this.reportSummary.totalAmount||0)}`,icon:"mdi-cash-multiple",color:"success"},{label:"Total Transactions",value:this.reportSummary.totalTransactions||0,icon:"mdi-receipt",color:"primary"}],consumption:[{label:"Total Consumption",value:`${this.formatNumber(this.reportSummary.totalConsumption||0)} m³`,icon:"mdi-water",color:"info"},{label:"Average Consumption",value:`${this.formatNumber(this.reportSummary.averageConsumption||0)} m³`,icon:"mdi-chart-line",color:"primary"}]};return t[this.reportType]||[]},detailsTitle(){return`${this.reportType.charAt(0).toUpperCase()+this.reportType.slice(1)} Details`}},watch:{activeTab(){this.fetchData()},dateRange(){2===this.dateRange.length&&this.fetchData()}},methods:{async fetchData(){if(2!==!this.dateRange.length){this.loading=!0;try{const[t,e]=this.dateRange,n=await J.A.get("/report",{params:{startDate:t,endDate:e,reportType:this.reportType}});console.log(n),this.tableData=n.data.data.items,this.reportSummary=n.data.data.summary}catch(t){console.error("Error fetching data:",t),this.showNotification("Error fetching report data","error")}this.loading=!1}},formatNumber(t){return Number(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},formatDate(t){return Ce(new Date(t),"MMM dd, yyyy")},getStatusColor(t){const e={Paid:"success",Pending:"warning",Overdue:"error",Active:"success",Inactive:"error"};return e[t]||"grey"},formatLabel(t){return t.split(/(?=[A-Z])/).join(" ").charAt(0).toUpperCase()+t.split(/(?=[A-Z])/).join(" ").slice(1)},formatDetailValue(t,e){return"number"===typeof e?t.toLowerCase().includes("amount")?`₱${this.formatNumber(e)}`:e:t.toLowerCase().includes("date")?this.formatDate(e):e},viewDetails(t){this.selectedDetails=t,this.dialog=!0},showNotification(t,e="success"){this.snackbar={show:!0,text:t,color:e}},async generatePDF(){this.loadingPDF=!0;try{const t=await J.A.post("/report/generate-pdf",{reportType:this.reportType,dateRange:this.dateRange,data:this.tableData,summary:this.reportSummary},{responseType:"blob"}),e=new Blob([t.data],{type:"application/pdf"});(0,$e.saveAs)(e,`${this.reportType}-report.pdf`),this.showNotification("PDF generated successfully")}catch(t){console.error("Error generating PDF:",t),this.showNotification("Error generating PDF","error")}this.loadingPDF=!1},async exportToExcel(){this.loadingExcel=!0;try{const t=await J.A.post("/report/export-excel",{reportType:this.reportType,data:this.tableData,summary:this.reportSummary},{responseType:"blob"}),e=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,$e.saveAs)(e,`${this.reportType}-report.xlsx`),this.showNotification("Excel file generated successfully")}catch(t){console.error("Error generating Excel:",t),this.showNotification("Error generating Excel file","error")}this.loadingExcel=!1},applyDateRange(){this.dateMenu=!1,this.fetchData()}},mounted(){this.fetchData()}},Pe=Te,Oe=n(1656),Ee=(0,Oe.A)(Pe,G,U,!1,null,"416fcd92",null),_e=Ee.exports},5367:function(t,e,n){"use strict";var i=n(5471);e.A=i.Ay.extend({name:"ssr-bootable",data:()=>({isBooted:!1}),mounted(){window.requestAnimationFrame((()=>{this.$el.setAttribute("data-booted","true"),this.isBooted=!0}))}})},4213:function(t,e,n){var i,r,s;(function(n,a){r=[],i=a,s="function"===typeof i?i.apply(e,r):i,void 0===s||(t.exports=s)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function i(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){l(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function s(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,e,n){var o=a.URL||a.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?s(l):r(l.href)?i(t,e,n):s(l,l.target="_blank")):(l.href=o.createObjectURL(t),setTimeout((function(){o.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,a){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,a),n);else if(r(t))i(t,n,a);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){s(o)}))}}:function(t,e,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return i(t,e,n);var s="application/octet-stream"===t.type,l=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},u.readAsDataURL(t)}else{var h=a.URL||a.webkitURL,d=h.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});a.saveAs=l.saveAs=l,t.exports=l}))}}]);
//# sourceMappingURL=414.58d7fa4b.js.map